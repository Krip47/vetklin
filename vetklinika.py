# Ветеринарная клиника

пациенты = []
врачи = [
    {"id": 1, "имя": "Иванов Петр Сергеевич", "специальность": "Хирург"},
    {"id": 2, "имя": "Сидорова Мария Ивановна", "специальность": "Терапевт"},
    {"id": 3, "имя": "Кузнецов Алексей Викторович", "специальность": "Стоматолог"}
]
записи = []
карточки = []

номер_пациента = 1
номер_записи = 1
номер_карточки = 1

def показать_меню():
    print("\n" + "="*40)
    print("ВЕТЕРИНАРНАЯ КЛИНИКА")
    print("="*40)
    print("1. Добавить нового пациента")
    print("2. Показать всех пациентов")
    print("3. Записать на прием")
    print("4. Добавить запись в карточку")
    print("5. Показать все данные")
    print("0. Выход")
    print("="*40)

def добавить_пациента():
    global номер_пациента
    
    print("\n--- ДОБАВЛЕНИЕ НОВОГО ПАЦИЕНТА ---")
    
    имя = input("Имя животного: ")
    вид = input("Вид (собака, кошка и т.д.): ")
    возраст = input("Возраст (лет): ")
    хозяин = input("Имя хозяина: ")
    телефон = input("Телефон хозяина: ")
    
    пациент = {
        "id": номер_пациента,
        "имя": имя,
        "вид": вид,
        "возраст": возраст,
        "хозяин": хозяин,
        "телефон": телефон
    }
    
    пациенты.append(пациент)
    номер_пациента += 1
    
    print(f"Пациент добавлен! ID: {пациент['id']}")

def показать_пациентов():
    if not пациенты:
        print("\nПациентов нет")
        return
    
    print("\n--- СПИСОК ПАЦИЕНТОВ ---")
    for п in пациенты:
        print(f"{п['id']}. {п['имя']} ({п['вид']}, {п['возраст']} лет) - Хозяин: {п['хозяин']}")

def записать_на_прием():
    global номер_записи
    
    print("\n--- ЗАПИСЬ НА ПРИЕМ ---")
    
    if not пациенты:
        print("Сначала добавьте пациента")
        return
    
    показать_пациентов()
    
    try:
        id_пациента = int(input("\nID пациента: "))
    except:
        print("Ошибка ввода")
        return
    
    print("\n--- ВРАЧИ ---")
    for в in врачи:
        print(f"{в['id']}. {в['имя']} ({в['специальность']})")
    
    try:
        id_врача = int(input("\nID врача: "))
    except:
        print("Ошибка ввода")
        return
    
    дата = input("Дата (например: 2024-12-20): ")
    время = input("Время (например: 14:30): ")
    причина = input("Причина визита: ")
    
    запись = {
        "id": номер_записи,
        "id_пациента": id_пациента,
        "id_врача": id_врача,
        "дата": дата,
        "время": время,
        "причина": причина
    }
    
    записи.append(запись)
    номер_записи += 1
    
    print(f"Запись создана! ID: {запись['id']}")

def добавить_в_карточку():
    global номер_карточки
    
    print("\n--- ДОБАВЛЕНИЕ В МЕДКАРТУ ---")
    
    if not пациенты:
        print("Сначала добавьте пациента")
        return
    
    показать_пациентов()
    
    try:
        id_пациента = int(input("\nID пациента: "))
    except:
        print("Ошибка ввода")
        return
    
    print("\n--- ВРАЧИ ---")
    for в in врачи:
        print(f"{в['id']}. {в['имя']} ({в['специальность']})")
    
    try:
        id_врача = int(input("\nID врача: "))
    except:
        print("Ошибка ввода")
        return
    
    диагноз = input("Диагноз: ")
    лечение = input("Лечение: ")
    дата = input("Дата (например: 2024-12-20): ")
    
    карточка = {
        "id": номер_карточки,
        "id_пациента": id_пациента,
        "id_врача": id_врача,
        "диагноз": диагноз,
        "лечение": лечение,
        "дата": дата
    }
    
    карточки.append(карточка)
    номер_карточки += 1
    
    print(f"Запись в карточке добавлена! ID: {карточка['id']}")

def показать_все_данные():
    print("\n--- ОБЗОР ВСЕХ ДАННЫХ ---")
    
    print(f"\nПациентов: {len(пациенты)}")
    print(f"Врачей: {len(врачи)}")
    print(f"Записей на прием: {len(записи)}")
    print(f"Записей в карточках: {len(карточки)}")
    
    print("\n--- ПАЦИЕНТЫ ---")
    for п in пациенты:
        print(f"  {п['id']}. {п['имя']} ({п['вид']})")
    
    print("\n--- ПОСЛЕДНИЕ ЗАПИСИ НА ПРИЕМ ---")
    for з in записи[-3:]:
        
        имя_пациента = "?"
        for п in пациенты:
            if п['id'] == з['id_пациента']:
                имя_пациента = п['имя']
                break
        
        
        имя_врача = "?"
        for в in врачи:
            if в['id'] == з['id_врача']:
                имя_врача = в['имя']
                break
        
        print(f"  {з['дата']} {з['время']}: {имя_пациента} -> {имя_врача}")

def главная():
    print("Добро пожаловать в Ветеринарную Клинику!")
    
    while True:
        показать_меню()
        выбор = input("Выберите действие: ")
        
        if выбор == "1":
            добавить_пациента()
        elif выбор == "2":
            показать_пациентов()
        elif выбор == "3":
            записать_на_прием()
        elif выбор == "4":
            добавить_в_карточку()
        elif выбор == "5":
            показать_все_данные()
        elif выбор == "0":
            print("До свидания!")
            break
        else:
            print("Неверный выбор. Попробуйте еще раз.")


if __name__ == "__main__":
    главная()